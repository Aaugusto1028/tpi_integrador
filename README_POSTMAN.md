# ğŸ“¬ Ãndice de ColecciÃ³n Postman - TPI LogÃ­stica

> **Estado**: âœ… Completado | **VersiÃ³n**: 1.0 | **Fecha**: 17/11/2025

---

## ğŸ¯ Inicio RÃ¡pido

### ğŸ‘¤ Eres Nuevo en la ColecciÃ³n

**Tiempo**: 30 minutos

1. Lee: [`POSTMAN_GUIA.md`](POSTMAN_GUIA.md) (15 min)
2. Importa los 2 archivos JSON a Postman (5 min)
3. Ejecuta los 3 requests de autenticaciÃ³n (5 min)
4. Ejecuta el flujo principal (5 min)

âœ… **Resultado**: EntenderÃ¡s cÃ³mo funciona toda la arquitectura

---

### âš¡ Eres Experimentado con Postman

**Tiempo**: 10 minutos

1. Lee: [`POSTMAN_QUICK_REFERENCE.md`](POSTMAN_QUICK_REFERENCE.md) (5 min)
2. Importa los archivos JSON (3 min)
3. Comienza a experimentar (2 min)

âœ… **Resultado**: Listo para usar la colecciÃ³n inmediatamente

---

### ğŸ† Eres QA Senior

**Tiempo**: 1 hora

1. Lee: [`POSTMAN_README.md`](POSTMAN_README.md) (20 min)
2. Lee: [`POSTMAN_TROUBLESHOOTING.md`](POSTMAN_TROUBLESHOOTING.md) (25 min)
3. Explora los test scripts y ejemplos avanzados (15 min)

âœ… **Resultado**: Puedes extender la colecciÃ³n y crear nuevos escenarios

---

## ğŸ“¦ Archivos Incluidos

### ğŸ”´ Archivos JSON (Importar a Postman)

| Archivo | DescripciÃ³n | TamaÃ±o |
|---------|-------------|--------|
| `TPI_Logistica.postman_collection.json` | 46 requests organizados en 5 carpetas | ~150 KB |
| `TPI_Logistica.postman_environment.json` | Variables de entorno y credenciales | ~3 KB |

**â†’ [Ir a Inicio RÃ¡pido](#-inicio-rÃ¡pido)**

---

### ğŸ“˜ DocumentaciÃ³n Principal

| Archivo | PropÃ³sito | Lectores | Tiempo |
|---------|-----------|----------|--------|
| **[POSTMAN_GUIA.md](POSTMAN_GUIA.md)** | GuÃ­a completa paso a paso | Principiantes | 15 min |
| **[POSTMAN_README.md](POSTMAN_README.md)** | Overview completo de la arquitectura | Todos | 20 min |
| **[POSTMAN_QUICK_REFERENCE.md](POSTMAN_QUICK_REFERENCE.md)** | Referencia rÃ¡pida para expertos | Experimentados | 5 min |

---

### ğŸ“— DocumentaciÃ³n TemÃ¡tica

| Archivo | Contenido | Casos de Uso |
|---------|-----------|-------------|
| **[POSTMAN_EJEMPLOS.md](POSTMAN_EJEMPLOS.md)** | 7 escenarios de prueba completos | Aprender cÃ³mo usar diferentes casos |
| **[POSTMAN_TROUBLESHOOTING.md](POSTMAN_TROUBLESHOOTING.md)** | 8 errores comunes + tips avanzados | Resolver problemas y optimizar |
| **[POSTMAN_ENTREGA.md](POSTMAN_ENTREGA.md)** | Resumen de entrega y estadÃ­sticas | Validar completitud del proyecto |
| **[POSTMAN_ENV_CONFIG.json](POSTMAN_ENV_CONFIG.json)** | Configuraciones por ambiente | Usar en Staging/ProducciÃ³n |

---

## ğŸ—ºï¸ Mapa de DocumentaciÃ³n

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         COLECCIÃ“N POSTMAN TPI LOGÃSTICA                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€ INICIO                                                  â”‚
â”‚  â”œâ”€ âš¡ RÃPIDO â†’ POSTMAN_QUICK_REFERENCE.md             â”‚
â”‚  â”œâ”€ ğŸ“˜ GUÃA â†’ POSTMAN_GUIA.md                          â”‚
â”‚  â””â”€ ğŸ“˜ OVERVIEW â†’ POSTMAN_README.md                    â”‚
â”‚                                                          â”‚
â”œâ”€ USAR LA COLECCIÃ“N                                      â”‚
â”‚  â”œâ”€ ğŸ¯ Casos de Uso â†’ POSTMAN_EJEMPLOS.md             â”‚
â”‚  â”œâ”€ ğŸ”§ Problemas â†’ POSTMAN_TROUBLESHOOTING.md         â”‚
â”‚  â””â”€ âš™ï¸ ConfiguraciÃ³n â†’ POSTMAN_ENV_CONFIG.json         â”‚
â”‚                                                          â”‚
â”œâ”€ VALIDAR ENTREGA                                        â”‚
â”‚  â””â”€ ğŸ“‹ Checklist â†’ POSTMAN_ENTREGA.md                 â”‚
â”‚                                                          â”‚
â””â”€ ARCHIVOS JSON                                          â”‚
   â”œâ”€ ğŸ”´ TPI_Logistica.postman_collection.json           â”‚
   â””â”€ ğŸ”´ TPI_Logistica.postman_environment.json          â”‚
```

---

## ğŸ“Š Contenido de la ColecciÃ³n

### 46 Requests Organizados en 5 Carpetas

```
1ï¸âƒ£  AUTENTICACIÃ“N (Keycloak)
    â”œâ”€â”€ Obtener Token CLIENTE
    â”œâ”€â”€ Obtener Token OPERADOR
    â””â”€â”€ Obtener Token TRANSPORTISTA

2ï¸âƒ£  FLUJO PRINCIPAL (Demo Integrado)
    â”œâ”€â”€ (CLIENTE) Crear Solicitud
    â”œâ”€â”€ (OPERADOR) Crear Ruta
    â”œâ”€â”€ (OPERADOR) Asignar CamiÃ³n a Tramo
    â”œâ”€â”€ (TRANSPORTISTA) Iniciar Tramo
    â”œâ”€â”€ (TRANSPORTISTA) Finalizar Tramo
    â””â”€â”€ (OPERADOR) Finalizar Solicitud

3ï¸âƒ£  CRUD - ms-solicitudes (7 requests)
    â”œâ”€â”€ Crear Solicitud
    â”œâ”€â”€ Listar Solicitudes
    â”œâ”€â”€ Obtener Solicitud por ID
    â”œâ”€â”€ Obtener Estado
    â”œâ”€â”€ Actualizar Estado Contenedor
    â”œâ”€â”€ Crear Cliente
    â””â”€â”€ Obtener Cliente por ID

4ï¸âƒ£  CRUD - ms-rutas (12 requests)
    â”œâ”€â”€ Crear Ruta
    â”œâ”€â”€ Listar Rutas
    â”œâ”€â”€ Obtener Rutas por Solicitud
    â”œâ”€â”€ Asignar Ruta
    â”œâ”€â”€ Asignar CamiÃ³n a Tramo
    â”œâ”€â”€ Iniciar Tramo
    â”œâ”€â”€ Finalizar Tramo
    â”œâ”€â”€ Listar Tramos por Patente
    â”œâ”€â”€ Obtener Tramos (pÃºblicos)
    â”œâ”€â”€ Obtener Costo Real (pÃºblico)
    â”œâ”€â”€ Obtener Tarifas (pÃºblico)
    â””â”€â”€ MÃ¡s...

5ï¸âƒ£  CRUD - ms-camiones (4 requests)
    â”œâ”€â”€ Crear CamiÃ³n
    â”œâ”€â”€ Listar Camiones
    â”œâ”€â”€ Obtener Camiones Aptos
    â””â”€â”€ Obtener Tramos del Transportista
```

---

## ğŸ”‘ Variables y ConfiguraciÃ³n

### Variables de Entorno (Auto-configurable)

```json
{
  "baseUrl": "http://localhost:8080/api",
  "keycloakUrl": "http://localhost:8180",
  "user_cliente": "cliente@mail.com",
  "user_operador": "operador@mail.com",
  "user_transportista": "transportista@mail.com",
  "token_cliente": "auto-poblada",
  "token_operador": "auto-poblada",
  "token_transportista": "auto-poblada"
}
```

### Variables de ColecciÃ³n (Encadenamiento)

```json
{
  "id_solicitud_creada": "Capturado de POST /solicitudes",
  "id_ruta_creada": "Capturado de POST /rutas",
  "id_tramo_1": "Capturado de nested response"
}
```

---

## ğŸ¯ Casos de Uso

### 1. Validar que toda la arquitectura funciona

```
â†’ Ver: POSTMAN_GUIA.md (Fase 1 y 2)
â†’ Ejecutar: 3 tokens + 6 requests del flujo
â±ï¸ Tiempo: 10 minutos
```

### 2. Probar un microservicio especÃ­fico

```
â†’ Ver: POSTMAN_EJEMPLOS.md (Escenarios especÃ­ficos)
â†’ Ejecutar: Carpeta CRUD del servicio
â±ï¸ Tiempo: 15 minutos
```

### 3. Encontrar y resolver un error

```
â†’ Ver: POSTMAN_TROUBLESHOOTING.md (Buscar cÃ³digo de error)
â†’ Seguir: Pasos de soluciÃ³n
â±ï¸ Tiempo: Variable
```

### 4. Integrar en CI/CD

```
â†’ Ver: POSTMAN_README.md (Exportar como cURL)
â†’ Usar: Newman o curl en pipeline
â±ï¸ Tiempo: Depende de pipeline
```

### 5. Configurar para producciÃ³n

```
â†’ Ver: POSTMAN_ENV_CONFIG.json (Ambientes)
â†’ Actualizar: URLs y credenciales
â±ï¸ Tiempo: 10 minutos
```

---

## ğŸ§ª Escenarios Incluidos

En [`POSTMAN_EJEMPLOS.md`](POSTMAN_EJEMPLOS.md) encontrarÃ¡s 7 escenarios:

1. âœ… **Prueba RÃ¡pida del Flujo Completo** (10 min)
2. âœ… **Crear MÃºltiples Solicitudes** (15 min)
3. âœ… **BÃºsqueda de Camiones Aptos** (15 min)
4. âœ… **GestiÃ³n de Rutas con MÃºltiples Tramos** (20 min)
5. âœ… **Ciclo de Vida Completo** (20 min)
6. âœ… **Pruebas de AutorizaciÃ³n por Rol** (15 min)
7. âœ… **Endpoints PÃºblicos (Sin AutenticaciÃ³n)** (10 min)

---

## ğŸ”´ Errores Comunes

Los 8 errores mÃ¡s comunes se cubren en [`POSTMAN_TROUBLESHOOTING.md`](POSTMAN_TROUBLESHOOTING.md):

| Error | SoluciÃ³n | Doc |
|-------|----------|-----|
| 401 Unauthorized | Re-obtener tokens | âœ“ |
| 403 Forbidden | Verificar rol | âœ“ |
| 404 Not Found | Ejecutar requests previos | âœ“ |
| 400 Bad Request | Validar JSON | âœ“ |
| 500 Server Error | Revisar logs | âœ“ |
| 502 Bad Gateway | Reiniciar servicios | âœ“ |
| Variable no definida | Ejecutar request de captura | âœ“ |
| JSON invÃ¡lido | Usar validador | âœ“ |

---

## âš™ï¸ ConfiguraciÃ³n Inicial

### Paso 1: Importar Archivos

1. Abre Postman
2. Haz clic en **Import**
3. Selecciona:
   - `TPI_Logistica.postman_collection.json`
   - `TPI_Logistica.postman_environment.json`

### Paso 2: Seleccionar Entorno

1. Esquina superior derecha
2. Dropdown de ambientes
3. Selecciona **"TPI LogÃ­stica - Entorno"**

### Paso 3: Ejecutar

1. Abre la carpeta **1. AutenticaciÃ³n**
2. Ejecuta los 3 requests de tokens
3. Abre la carpeta **2. Flujo Principal**
4. Ejecuta los 6 requests en orden

âœ… **Listo**: Toda la arquitectura funciona

---

## ğŸ“ˆ EstadÃ­sticas

| MÃ©trica | Valor |
|---------|-------|
| Total de Requests | 46 |
| Carpetas | 5 |
| Lineas de DocumentaciÃ³n | ~500 |
| Palabras de DocumentaciÃ³n | ~15,000 |
| Ejemplos de CÃ³digo | 30+ |
| Variables de Entorno | 13 |
| Variables de ColecciÃ³n | 3 |
| Test Scripts | 6+ |
| Escenarios de Prueba | 7 |
| Errores Documentados | 8 |
| Archivos Incluidos | 9 |

---

## ğŸ“ Niveles de Complejidad

### ğŸŸ¢ Beginner (Principiante)
- Lee: POSTMAN_GUIA.md
- Ejecuta: Flujo principal
- Tiempo: 30 minutos

### ğŸŸ¡ Intermediate (Intermedio)
- Lee: POSTMAN_README.md
- Ejecuta: 7 escenarios de POSTMAN_EJEMPLOS.md
- Tiempo: 2 horas

### ğŸ”´ Advanced (Avanzado)
- Lee: POSTMAN_TROUBLESHOOTING.md
- Personaliza: Test scripts
- Integra: Con CI/CD
- Tiempo: Variable

---

## ğŸ“š Tabla RÃ¡pida de Referencias

### Para Encontrar:

| Necesito... | Archivo | SecciÃ³n |
|-------------|---------|---------|
| Empezar rÃ¡pido | POSTMAN_QUICK_REFERENCE.md | Inicio en 3 Pasos |
| Entender la arquitectura | POSTMAN_README.md | DescripciÃ³n General |
| Ver un ejemplo | POSTMAN_EJEMPLOS.md | Cualquier escenario |
| Resolver un error | POSTMAN_TROUBLESHOOTING.md | Buscar por cÃ³digo |
| Variables disponibles | POSTMAN_GUIA.md | Variables de Entorno |
| Endpoint especÃ­fico | POSTMAN_GUIA.md | Endpoints por Rol |
| Configurar para prod | POSTMAN_ENV_CONFIG.json | ProducciÃ³n |

---

## âœ¨ Features Destacadas

âœ… **AutenticaciÃ³n AutomÃ¡tica**
- OAuth2 con Keycloak
- Tokens capturados automÃ¡ticamente
- ValidaciÃ³n de permisos por rol

âœ… **Encadenamiento Inteligente**
- IDs capturadas automÃ¡ticamente
- Variables reutilizadas en requests posteriores
- Flujo completamente integrado

âœ… **DocumentaciÃ³n Extensiva**
- 9 archivos de documentaciÃ³n
- 15,000+ palabras
- 30+ ejemplos de cÃ³digo

âœ… **Listo para ProducciÃ³n**
- 4 ambientes preconfigurados
- Test scripts para validaciÃ³n
- Cobertura completa de endpoints

---

## ğŸš€ PrÃ³ximos Pasos

### Inmediato
- [ ] Descargar los archivos JSON
- [ ] Importar a Postman
- [ ] Ejecutar los 3 tokens
- [ ] Ejecutar flujo principal

### Corto Plazo
- [ ] Leer POSTMAN_GUIA.md completo
- [ ] Ejecutar todos los escenarios
- [ ] Explorar los test scripts
- [ ] Personalizar para tu entorno

### Mediano Plazo
- [ ] Leer POSTMAN_TROUBLESHOOTING.md
- [ ] Integrar con Newman/CLI
- [ ] Configurar CI/CD
- [ ] Crear nuevos escenarios

---

## ğŸ’¬ Preguntas Frecuentes

### Â¿DÃ³nde empiezo?

1. **Si eres nuevo**: Empieza por [`POSTMAN_GUIA.md`](POSTMAN_GUIA.md)
2. **Si eres experimentado**: Ve a [`POSTMAN_QUICK_REFERENCE.md`](POSTMAN_QUICK_REFERENCE.md)
3. **Si eres QA Senior**: Comienza con [`POSTMAN_TROUBLESHOOTING.md`](POSTMAN_TROUBLESHOOTING.md)

### Â¿CÃ³mo importo los archivos?

Ver [`POSTMAN_GUIA.md`](POSTMAN_GUIA.md) â†’ SecciÃ³n "InstalaciÃ³n"

### Â¿QuÃ© hago si algo falla?

Ver [`POSTMAN_TROUBLESHOOTING.md`](POSTMAN_TROUBLESHOOTING.md) â†’ Buscar tu error

### Â¿Puedo usar esto en producciÃ³n?

SÃ­, pero actualiza las credenciales en [`POSTMAN_ENV_CONFIG.json`](POSTMAN_ENV_CONFIG.json)

### Â¿CÃ³mo agrego nuevos requests?

Ver `POSTMAN_EJEMPLOS.md` â†’ Escenario correspondiente, o [`POSTMAN_README.md`](POSTMAN_README.md) â†’ Estructura

---

## ğŸ“ Soporte RÃ¡pido

| Problema | SoluciÃ³n |
|----------|----------|
| No veo tokens | Ejecuta: `1. AutenticaciÃ³n > Obtener Token CLIENTE` |
| 404 Not Found | Ejecuta: Request anterior que crea el recurso |
| 403 Forbidden | Usa: Token correcto para ese rol |
| JSON invÃ¡lido | Valida: En https://jsonlint.com |
| Servicio caÃ­do | Ejecuta: `docker-compose restart` |

---

## ğŸ† Resumen

âœ… **46 requests** organizados y listos para usar  
âœ… **AutenticaciÃ³n completa** con Keycloak  
âœ… **DocumentaciÃ³n extensiva** (~15,000 palabras)  
âœ… **7 escenarios** de prueba diferentes  
âœ… **Troubleshooting** completo  
âœ… **Listo para producciÃ³n**  

---

## ğŸ“„ Archivos Disponibles

**Archivos JSON** (Importar a Postman):
- `TPI_Logistica.postman_collection.json`
- `TPI_Logistica.postman_environment.json`

**DocumentaciÃ³n** (Leer en Markdown):
- `POSTMAN_README.md` (Este archivo)
- `POSTMAN_GUIA.md`
- `POSTMAN_QUICK_REFERENCE.md`
- `POSTMAN_EJEMPLOS.md`
- `POSTMAN_TROUBLESHOOTING.md`
- `POSTMAN_ENTREGA.md`
- `POSTMAN_ENV_CONFIG.json`

---

**VersiÃ³n**: 1.0  
**Fecha**: 17/11/2025  
**Autor**: QA Senior - Sistema TPI LogÃ­stica  
**Estado**: âœ… Completado y Documentado

---

## ğŸ¯ Â¿Por DÃ³nde Empiezo?

### ğŸ‘‰ **La OpciÃ³n MÃ¡s RÃ¡pida**
1. Lee: [`POSTMAN_QUICK_REFERENCE.md`](POSTMAN_QUICK_REFERENCE.md) (5 min)
2. Importa archivos JSON (3 min)
3. Â¡Usa la colecciÃ³n! (2 min)

### ğŸ‘‰ **La OpciÃ³n Recomendada**
1. Lee: [`POSTMAN_GUIA.md`](POSTMAN_GUIA.md) (15 min)
2. Importa archivos JSON (5 min)
3. Ejecuta flujo principal (10 min)

### ğŸ‘‰ **La OpciÃ³n Completa**
1. Lee: [`POSTMAN_README.md`](POSTMAN_README.md) (20 min)
2. Lee: [`POSTMAN_EJEMPLOS.md`](POSTMAN_EJEMPLOS.md) (20 min)
3. Lee: [`POSTMAN_TROUBLESHOOTING.md`](POSTMAN_TROUBLESHOOTING.md) (25 min)
4. Experimenta con todos los escenarios (60 min)

---

**Â¿Listo? Â¡Comienza ahora!** ğŸš€
